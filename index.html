<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="./models/console.css">
    <title>Portfolio</title>
    <style>
        body {
            overflow: hidden;
            margin: 0px;
        }
    </style>
</head>


    <div id="container">
        <button class="exit" id="exit">X</button>
        <main class="main">
            <p class="console">
                <span>Social Network Terminal</span>
                <br>
                <span id="separator">____________________________________________</span>
                <br>
                <span id="caption">~/home$</span>
                <span id="cursor"></span>
            </p>
        </main>
        <footer class="footer">
            <input type="text" id="user-caption" value="" placeholder="your command ..." />

        </footer>
    </div>

    <div id="here">

    </div>

    <div class="progressBarContainer" id="progressBarContainer">
        <div class="container">
            <div class="center">
                <button class="btn" id="btn">
                    <svg id="btnSvg" width="180px" height="60px" viewBox="0 0 180 60" class="border">
                        <polyline points="179,1 179,59 1,59 1,1 179,1" class="bg-line" />
                        <polyline points="179,1 179,59 1,59 1,1 179,1" class="hl-line" />
                    </svg>
                    <span id="progressSpan">Enter in my world</span>
                </button>
            </div>
        </div>
        <label for="progressBar" id="progressLabel">Loading...</label>
        <progress id="progressBar" value="0" max="100"></progress>
    </div>

    <script>

        function write() {

            const userText = document.getElementById("user-caption").value;
            const inputs = document.getElementById("caption");

            userText.values = ' ';
            const printCharByChar = (input) => {
                let count = 0;
                let printInterval = setInterval(() => {
                    if (input.length > count)
                        inputs.innerText += input[count++];
                    else
                        clearInterval(printInterval);
                }, 30);
            }


            switch(userText) {
                case 'github':
                    window.location.href = "https://github.com/PaulTisserant";
                    break;

                case 'instagram':
                    window.location.href = "https://www.instagram.com/paul_tisserant/";
                    break;

                case 'linkedin':
                    window.location.href = "https://www.linkedin.com/in/paul-tisserant-a23340228/";
                    break;

                case 'help':
                    printCharByChar("/home$ All commands enabled: github, instagram, linkedin, quit");
                    break;

                case 'quit':
                    document.getElementById('container').style.zIndex = "0";
                    break;
                default :
                    printCharByChar("Command not found: type 'help' to see all commands ");
            }

            //print characters one by one with 30ms delay
            inputs.innerText = "";

        }

        /*
        const buttonDelete = document.getElementById("test-erasing");

        buttonDelete.addEventListener('click', () => {

            const captions = document.getElementById("caption");

            //this method delete chars with 30ms delay
            const deleteCharByChar = (input) => {
                let counts = input.length;
                let printIntervals = setInterval(() => {
                    if (counts > 0)
                        captions.innerText = input.substring(0, counts);
                    else
                        clearInterval(printIntervals);
                    counts--;
                }, 30);
            }

            if (captions.innerText === "") {
                deleteCharByChar("erasing test!");
            }else {
                //this method delete chars with 30ms delay
                const deleteCharByChar = (input) => {
                    let counts = input.length;
                    let printIntervals = setInterval(() => {
                        if (counts > 0)
                            captions.innerText = input.substring(0, counts-1);
                        else
                            clearInterval(printIntervals);
                        counts--;
                    }, 30);
                }

                deleteCharByChar(captions.innerText);
            }

        });

         */
        document.addEventListener("keyup", function(event) {
            if (event.keyCode === 13) {
                write();
            }
        });
    </script>

<body>
<script type="module" src="bundle.js"></script>
</body>
</html>